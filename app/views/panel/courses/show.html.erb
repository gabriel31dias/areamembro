<div style="max-width: 800px; margin: 0 auto;">
  <div style="margin-bottom: 1.5rem;">
    <%= link_to panel_courses_path, style: "color: #00d4ff; text-decoration: none; font-size: 0.875rem; display: inline-flex; align-items: center; gap: 0.5rem;" do %>
      <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7"/>
      </svg>
      Voltar
    <% end %>
  </div>

  <!-- Course Image -->
  <% if @course.photo.attached? %>
    <%= image_tag @course.photo, style: "width: 100%; height: 240px; object-fit: cover; border-radius: 16px; margin-bottom: 1.5rem;" %>
  <% else %>
    <div style="width: 100%; height: 240px; background: linear-gradient(135deg, #00d4ff 0%, #0066ff 100%); border-radius: 16px; margin-bottom: 1.5rem;"></div>
  <% end %>

  <!-- Course Info -->
  <div style="background: white; border-radius: 16px; padding: 1.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08); margin-bottom: 1rem;">
    <div style="display: flex; justify-content: space-between; align-items: start; margin-bottom: 1rem;">
      <h1 style="font-size: 1.5rem; font-weight: 700; color: #2d3748;"><%= @course.title %></h1>
      <span class="badge badge-<%= @course.active ? 'success' : 'danger' %>">
        <%= @course.active ? 'Ativo' : 'Inativo' %>
      </span>
    </div>

    <p style="color: #718096; margin-bottom: 1rem; line-height: 1.6;">
      <%= @course.description || 'Sem descri√ß√£o' %>
    </p>

    <div style="display: flex; gap: 1rem; padding: 1rem; background: #f7fafc; border-radius: 12px;">
      <div style="flex: 1;">
        <div style="color: #718096; font-size: 0.875rem; margin-bottom: 0.25rem;">Total de Aulas</div>
        <div style="font-size: 1.5rem; font-weight: 700; color: #2d3748;"><%= @course.total_lessons %></div>
      </div>
      <div style="flex: 1;">
        <div style="color: #718096; font-size: 0.875rem; margin-bottom: 0.25rem;">Criado em</div>
        <div style="font-size: 0.875rem; font-weight: 600; color: #2d3748;"><%= @course.created_at.strftime('%d/%m/%Y') %></div>
      </div>
    </div>
  </div>

  <!-- Lessons Section -->
  <div style="background: white; border-radius: 16px; padding: 1.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08); margin-bottom: 1rem;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem;">
      <h2 style="font-size: 1.25rem; font-weight: 700; color: #2d3748; display: flex; align-items: center; gap: 0.5rem;">
        <svg width="24" height="24" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        Aulas (<%= @course.lessons.count %>)
      </h2>
      <%= link_to new_panel_course_lesson_path(@course), style: "padding: 0.625rem 1.25rem; background: linear-gradient(135deg, #00d4ff 0%, #0066ff 100%); color: white; border-radius: 10px; text-decoration: none; font-weight: 600; font-size: 0.875rem; display: inline-flex; align-items: center; gap: 0.5rem;" do %>
        <svg width="16" height="16" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v16m8-8H4"/>
        </svg>
        Nova Aula
      <% end %>
    </div>

    <% if @course.lessons.any? %>
      <div style="display: flex; flex-direction: column; gap: 0.75rem;">
        <% @course.lessons.order(:order_number).each do |lesson| %>
          <div style="padding: 1rem; background: #f8fafc; border-radius: 12px; border: 1px solid #e2e8f0; display: flex; justify-content: space-between; align-items: center;">
            <div style="flex: 1;">
              <div style="display: flex; align-items: center; gap: 0.75rem; margin-bottom: 0.5rem;">
                <span style="width: 32px; height: 32px; border-radius: 8px; background: linear-gradient(135deg, #00d4ff 0%, #0066ff 100%); color: white; display: flex; align-items: center; justify-content: center; font-weight: 700; font-size: 0.875rem;">
                  <%= lesson.order_number %>
                </span>
                <h3 style="font-weight: 600; color: #2d3748; font-size: 1rem;"><%= lesson.title %></h3>
              </div>
              <% if lesson.description.present? %>
                <p style="color: #64748b; font-size: 0.875rem; margin-left: 2.5rem;"><%= lesson.description %></p>
              <% end %>
              <div style="display: flex; gap: 1rem; margin-left: 2.5rem; margin-top: 0.5rem; font-size: 0.8125rem; color: #64748b;">
                <% if lesson.duration_minutes.present? %>
                  <span>‚è±Ô∏è <%= lesson.duration_minutes %> min</span>
                <% end %>
                <% if lesson.video_url.present? %>
                  <span>üé• V√≠deo</span>
                <% end %>
              </div>
            </div>
            <div style="display: flex; gap: 0.5rem;">
              <%= link_to edit_panel_course_lesson_path(@course, lesson), style: "padding: 0.5rem 0.75rem; border: 2px solid #e2e8f0; color: #475569; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 0.8125rem;" do %>
                ‚úèÔ∏è
              <% end %>
              <%= link_to panel_course_lesson_path(@course, lesson), method: :delete, data: { turbo_method: :delete, turbo_confirm: 'Tem certeza?' }, style: "padding: 0.5rem 0.75rem; border: 2px solid #fee2e2; color: #991b1b; border-radius: 8px; text-decoration: none; font-weight: 600; font-size: 0.8125rem;" do %>
                üóëÔ∏è
              <% end %>
            </div>
          </div>
        <% end %>
      </div>
    <% else %>
      <div style="text-align: center; padding: 3rem 1rem; color: #94a3b8;">
        <svg width="64" height="64" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="margin: 0 auto 1rem;">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"/>
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
        </svg>
        <p style="font-weight: 600; font-size: 1rem;">Nenhuma aula cadastrada</p>
        <p style="font-size: 0.875rem; margin-top: 0.5rem;">Clique em "Nova Aula" para come√ßar</p>
      </div>
    <% end %>
  </div>

  <!-- Actions -->
  <div style="display: flex; gap: 0.75rem;">
    <%= link_to edit_panel_course_path(@course), class: "btn btn-primary", style: "flex: 1; text-align: center;" do %>
      Editar Curso
    <% end %>
    <%= link_to panel_course_path(@course), method: :delete, data: { turbo_method: :delete, turbo_confirm: 'Tem certeza que deseja deletar este curso?' }, style: "flex: 1; text-align: center; padding: 0.75rem 1.5rem; background: #f56565; color: white; border-radius: 12px; text-decoration: none; font-weight: 600; font-size: 0.875rem;" do %>
      Deletar
    <% end %>
  </div>
</div>
